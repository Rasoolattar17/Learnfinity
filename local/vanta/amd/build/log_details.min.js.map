{"version":3,"file":"log_details.min.js","sources":["../src/log_details.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * JavaScript for the Vanta log details page.\n *\n * @module     local_vanta/log_details\n * @copyright  2023 Your Name\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery'], function($) {\n    \n    /**\n     * Module initialization.\n     */\n    function init() {\n        setupCopyButtons();\n    }\n    \n    /**\n     * Add copy buttons to JSON payload sections\n     */\n    function setupCopyButtons() {\n        // Add copy button to each pre element\n        $('.card-body pre').each(function() {\n            const $pre = $(this);\n            const $card = $pre.closest('.card-body');\n            \n            // Create copy button\n            const $button = $('<button>')\n                .addClass('btn btn-sm btn-outline-secondary float-right copy-payload')\n                .attr('title', 'Copy to clipboard')\n                .html('<i class=\"fa fa-copy\"></i> Copy');\n            \n            // Add button to card\n            $card.prepend($button);\n            \n            // Add click handler\n            $button.on('click', function(e) {\n                e.preventDefault();\n                \n                // Copy pre content to clipboard\n                const text = $pre.text();\n                navigator.clipboard.writeText(text).then(function() {\n                    // Success - change button text temporarily\n                    const $btn = $(e.currentTarget);\n                    const originalHtml = $btn.html();\n                    \n                    $btn.html('<i class=\"fa fa-check\"></i> Copied!');\n                    setTimeout(function() {\n                        $btn.html(originalHtml);\n                    }, 2000);\n                });\n            });\n        });\n    }\n    \n    return {\n        init: init\n    };\n}); "],"names":["define","$","init","each","$pre","this","$card","closest","$button","addClass","attr","html","prepend","on","e","preventDefault","text","navigator","clipboard","writeText","then","$btn","currentTarget","originalHtml","setTimeout"],"mappings":";;;;;;;AAuBAA,iCAAO,CAAC,WAAW,SAASC,SA+CjB,CACHC,gBAlCAD,EAAE,kBAAkBE,MAAK,iBACfC,KAAOH,EAAEI,MACTC,MAAQF,KAAKG,QAAQ,cAGrBC,QAAUP,EAAE,YACbQ,SAAS,6DACTC,KAAK,QAAS,qBACdC,KAAK,mCAGVL,MAAMM,QAAQJ,SAGdA,QAAQK,GAAG,SAAS,SAASC,GACzBA,EAAEC,uBAGIC,KAAOZ,KAAKY,OAClBC,UAAUC,UAAUC,UAAUH,MAAMI,MAAK,iBAE/BC,KAAOpB,EAAEa,EAAEQ,eACXC,aAAeF,KAAKV,OAE1BU,KAAKV,KAAK,uCACVa,YAAW,WACPH,KAAKV,KAAKY,gBACX"}