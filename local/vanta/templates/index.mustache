{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template local_vanta/config

    Vanta Integration configuration form.

    Classes required for JS:
    * none

    Data attributes required for JS:
    * none

    Context variables required for this template:
    * client_id - The Vanta client ID
    * client_secret - The Vanta client secret
    * resource_id - The Vanta resource ID
    * selected_courses - Comma separated list of selected course IDs
    * integration_mode - The integration mode (all or any)
    * sesskey - The session key for form submission
}}

<div class="local_vanta_api_credentials" id="local_vanta_api_credentials">
    <form id="vanta-config-form" class="mform">
        <input type="hidden" name="sesskey" value="{{sesskey}}">

        <div class="container">
            <div class="row mb-4">
                <div class="col-12">
                    <h4>{{#str}}credentials, local_vanta{{/str}}</h4>
                    <hr>
                </div>
            </div>

            <div class="row mb-4">
                <div class="col-md-3">
                    <label for="name" class="col-form-label">{{#str}}name, local_vanta{{/str}}</label>
                </div>
                <div class="col-md-9">
                    <input type="text" id="name" name="name" class="form-control name" value="{{name}}">
                    <div id="name_error" class="invalid-feedback">
                        {{#str}}name_error, local_vanta{{/str}}
                    </div>
                </div>
            </div>
            
            <div class="row mb-4">
                <div class="col-md-3">
                    <label for="client_id" class="col-form-label">{{#str}}client_id, local_vanta{{/str}}</label>
                </div>
                <div class="col-md-9">
                    <input type="text" id="client_id" name="client_id" class="form-control client_id" value="{{clientid}}">
                    <div id="client_id_error" class="invalid-feedback">
                        {{#str}}client_id_error, local_vanta{{/str}}
                    </div>
                </div>
            </div>
            
            <div class="row mb-4">
                <div class="col-md-3">
                    <label for="client_secret" class="col-form-label">{{#str}}client_secret, local_vanta{{/str}}</label>
                </div>
                <div class="col-md-9">
                    <div class="input-group">
                        <input type="password" id="client_secret" name="client_secret" class="form-control client_secret" value="{{clientsecret}}">
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary toggle-password" type="button" title="{{#str}}show_password, local_vanta{{/str}}">
                                <i class="fa fa-eye" aria-hidden="true"></i>
                            </button>
                        </div>
                        <div id="client_secret_error" class="invalid-feedback">
                             {{#str}}client_secret_error, local_vanta{{/str}}
                        </div>
                    </div>
                    
                </div>
            </div>
            
            <div class="row mb-4">
                <div class="col-md-3">
                    <label for="scope" class="col-form-label">{{#str}}scope, local_vanta{{/str}}</label>
                </div>
                <div class="col-md-9">
                    <input type="text" id="scope" name="scope" class="form-control scope" value="{{scope_value}}" disabled>
                </div>
            </div>

            <div class="row mb-4">
                <div class="col-md-3">
                    <label for="grant_type" class="col-form-label">{{#str}}grant_type, local_vanta{{/str}}</label>
                </div>
                <div class="col-md-9">
                    <input type="text" id="grant_type" name="grant_type" class="form-control grant_type" value="{{grant_type_value}}" disabled>
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-3"></div>
                <div class="col-md-9">
                    <button type="submit" class="btn btn-primary save_credentials" id="save_credentials">{{#str}}save, core{{/str}}</button>
                    <div id="vanta-save-status" class="mt-2"></div>
                </div>
            </div>
        </div>
    </form>
</div>